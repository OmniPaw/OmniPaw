---
title: Kernel Config
description: Configure the OmniPaw execution environment for speed, safety, or replay.
navigation:
  icon: i-lucide-settings
seo:
  title: OmniPaw - Kernel Configuration
  description: Reference guide for governor levels, panic modes, and resource quotas.
---

# Kernel Configuration

OmniPaw is designed to be highly tunable. The kernel configuration defines the "Physics" of your autonomous substrateâ€”determining how strictly invariants are checked and how resource-intensive the hashing process should be.

## Configuration Schema

Configuring the kernel happens through the `KernelConfig` class. Below are the primary governance blocks:

### 1. Governor Level

The `governor` defines the strictness of the kernel's oversight.

| Level      | Mode        | Description                                                                        |
| :--------- | :---------- | :--------------------------------------------------------------------------------- |
| **LAX**    | DEVELOPMENT | Invariants are checked but breaches only log warnings. Best for rapid prototyping. |
| **STRICT** | PRODUCTION  | Every invariant breach triggers an immediate kernel halt.                          |
| **AUDIT**  | COMPLIANCE  | Full trace hashing and persistent state logging for all transitions.               |

### 2. Panic Strategy

When an invariant is breached or a trace diverges, the kernel enters a `PANIC` state. You can configure the response:

- **HALT**: Stop all agent execution immediately and lock the `AgentStore`. (Default)
- **ISOLATE**: Terminate only the offending agent and continue the rest of the swarm.
- **SNAPSHOT**: Write a full diagnostic memory dump to the `.storage` directory before halting.

### 3. Resource Quotas

To prevent runaway costs or resource exhaustion, the kernel enforces quotas per agent:

```typescript
const config = new KernelConfig({
  quotas: {
    maxTicksPerSession: 1000,
    maxToolExecutionTimeMs: 5000,
    memoryHeapLimitMb: 512,
  },
});
```

## Modes of Operation

The kernel can boot in different operational modes:

### LIVE Mode

The default mode for real-time autonomous execution. State is hashed, but performance is optimized for low latency.

### REPLAY Mode

A read-only mode where the kernel reads from a Write-Ahead Log. It disables all external tool side-effects and instead returns the previously recorded result from the log, ensuring the execution path is identical.

### DEEP_TRACE Mode

Enables full instrumentation for OpenTelemetry and generates detailed span waterfalls for every sub-instruction.

Next: Learn about [Tool Permissions & Sandboxing](/en/concepts/tool-permissions).
