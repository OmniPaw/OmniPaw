---
title: Nhazi (Architecture)
description: Banye n'ime ihe nchịkwa nchekwa OmniPaw na iwu nlele invariants.
navigation:
  icon: i-lucide-binary
seo:
  title: Nhazi OmniPaw
  description: Nkọwa teknụzụ maka ọkwa ọrụ nchekwa, injinia tick, na iwu nchekwa.
---

# Nhazi (Architecture)

A wulitere OmniPaw dị ka ihe nchịkwa sistemụ arụmọrụ maka ndị ọrụ na-achị onwe ha. Ebumnuche ya bụ iru **Njedebe Nchekwa (Deterministic Finality)** — nkwa na enwere ike imepụta ụzọ ọrụ ọ bụla n'ụzọ zuru ezu.

## Ihe Nchịkwa Nwere Ọkwa (The Layered Kernel)

OmniPaw nwere ọkwa atọ dị isi:

1.  **Ọkwa Ntuziaka (Instruction Layer)**: Na-akọwa ebumnuche ndị sitere na LLM ma gbanwee ha ka ha bụrụ ntuziaka ihe nchịkwa doro anya.
2.  **Ọkwa Ọrụ (Tick Engine)**: Na-arụ ọrụ ntuziaka na "ticks" atọmịk. A na-ekewapụ tick ọ bụla ma na-atụ hash mgbanwe ọnọdụ ya.
3.  **Ọkwa Ọchịchị (Invariant Checker)**: Na-enyocha ọ bụla mgbanwe ọnọdụ megide Iwu Isi 15.

## Njedebe Nchekwa (Deterministic Finality)

A na-enweta nchekwa site na **Hashing Ọnọdụ**. Oge ọ bụla onye ọrụ gbanwere ncheta ma ọ bụ kpọọ ngwa ọrụ, ihe nchịkwa na-emepụta akara SHA-256 nke mgbanwe ahụ.

```text
Ọnọdụ[N] + Ntuziaka -> Ọnọdụ[N+1] + Hash[N+1]
```

A na-echekwa hash ndị a na Write-Ahead Log (WAL) nke a na-enweghị ike ịgbanwe. N'oge **Usoro Ntugharị (Replay Mode)**, ihe nchịkwa na-atụnyere hash ọhụrụ a gbakọrọ na nke dị na WAL. Ọ bụrụ na ha adaghị, ọ pụtara "Trace Divergence," ihe nchịkwa ga-akwụsị iji gbochie mmebi ọnọdụ.

## Iwu Isi 15

Ihe nchịkwa na-amanye iwu ndị a n'oge ọrụ:

| ID         | Aha                 | Nkọwa                                                                   |
| :--------- | :------------------ | :---------------------------------------------------------------------- |
| **INV-01** | Eziokwu Ntuziaka    | Enweghị ike ịgbanwe ntuziaka mgbe ha banyere n'ahịrị.                   |
| **INV-03** | Nkewapụ SharedStore | Na-ajụ mbanye na ncheta nkekọrịta na-enweghị PermissionGrant doro anya. |
| **INV-07** | Tick Atomicity      | Tick ga-emerịrị kpamkpam ma ọ bụ laghachi azụ kpamkpam.                 |
| **INV-09** | Mgbochi Zombie      | Ndị ọrụ mechara enweghị ike ịgba ticks ma ọ bụ gbanwee ọnọdụ.           |
| **INV-15** | Ntugharị Parity     | Usoro ntugharị ga-emepụta akara ndị yiri nke Ọrụ Dị Ndụ.                |

## Usoro Nlele (Observability Stack)

OmniPaw na-ebupụ metrics sistemụ na traces onye ọrụ na-eji **OpenTelemetry**. Nke a na-enye ndị mmepe ohere ịhụ mkpebi onye ọrụ na oge ahụ site na iji ngwa ọrụ dịka Jaeger ma ọ bụ Terminal UI agbakwunyere.

### Metrics Isi

- `kernel.tick.latency`: Oge ejiri rụọ otu tick ọrụ.
- `agent.memory.delta`: Ogo byte nke mgbanwe ọnọdụ kwa tick.
- `tool.execution.status`: Onu ogugu ngafe/odida nke ngwa oru sandboxed.

Na-esote: Mụta banyere [Nhazi Swarm](/ig/getting-started/project-structure#swarm-coordination).
